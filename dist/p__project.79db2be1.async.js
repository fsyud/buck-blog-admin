(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{FGPR:function(e,t,a){"use strict";a.r(t),a.d(t,"projectList",(function(){return J}));a("Mwp2");var n=a("VXEj"),l=(a("Telt"),a("Tckk")),r=(a("+L6B"),a("2/Rp")),c=(a("IzEo"),a("bx4M")),i=(a("14J3"),a("BMrR")),o=(a("jCWc"),a("kPKH")),m=a("k1fw"),s=(a("qVdP"),a("jsC+")),u=(a("lUTK"),a("BvKs")),d=(a("2qtc"),a("kLXV")),p=(a("miYZ"),a("tsqr")),E=a("tJVT"),f=(a("5NDa"),a("5rEg")),b=(a("7Kak"),a("9yH6")),v=a("q1tI"),_=a.n(v),h=a("8Skl"),j=a("xvlK"),g=a("wd/R"),C=a.n(g),O=a("i8i4"),y=a("Hx5s"),w=a("9kvl"),k=a("0Owb"),I=(a("iQDF"),a("+eQT")),x=(a("OaEy"),a("2fM7")),M=(a("J+/v"),a("MoRW")),Y=(a("y8nQ"),a("Vl3Y")),S=a("vL9d"),N=a.n(S),D=f["a"].TextArea,q={labelCol:{span:7},wrapperCol:{span:13}},T=function(e){var t=Y["a"].useForm(),a=Object(E["a"])(t,1),n=a[0],l=e.done,c=e.visible,i=e.current,o=e.onDone,s=e.onCancel,u=e.onSubmit;Object(v["useEffect"])((function(){n&&!c&&n.resetFields()}),[e.visible]),Object(v["useEffect"])((function(){i&&n.setFieldsValue(Object(m["a"])(Object(m["a"])({},i),{},{start_time:i.start_time?C()(i.start_time):null,end_time:i.end_time?C()(i.end_time):null}))}),[e.current]);var p=function(){n&&n.submit()},b=function(e){var t=i?"edit":"add";u&&u(e,t)},h=l?{footer:null,onCancel:o}:{okText:"\u4fdd\u5b58",onOk:p,onCancel:s},j=function(){return l?_.a.createElement(M["a"],{status:"success",title:"\u64cd\u4f5c\u6210\u529f",extra:_.a.createElement(r["a"],{type:"primary",onClick:o},"\u77e5\u9053\u4e86"),className:N.a.formResult}):_.a.createElement(Y["a"],Object(k["a"])({},q,{form:n,onFinish:b}),_.a.createElement(Y["a"].Item,{name:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},_.a.createElement(f["a"],{placeholder:"\u8bf7\u8f93\u5165"})),_.a.createElement(Y["a"].Item,{name:"url",label:"\u9879\u76ee\u94fe\u63a5",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u94fe\u63a5"},{pattern:/(http|https):\/\/([\w.]+\/?)\S*/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9879\u76ee\u94fe\u63a5"}]},_.a.createElement(f["a"],{placeholder:"\u8bf7\u8f93\u5165"})),_.a.createElement(Y["a"].Item,{name:"img",label:"\u5c01\u9762\u8def\u5f84",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c01\u9762\u8def\u5f84"}]},_.a.createElement(f["a"],{placeholder:"\u8bf7\u8f93\u5165"})),_.a.createElement(Y["a"].Item,{name:"state",label:"\u9879\u76ee\u72b6\u6001",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9879\u76ee\u72b6\u6001"}]},_.a.createElement(x["a"],{placeholder:"\u8bf7\u9009\u62e9"},_.a.createElement(x["a"].Option,{value:"1"},"\u5df2\u5b8c\u6210"),_.a.createElement(x["a"].Option,{value:"2"},"\u6b63\u5728\u8fdb\u884c"),_.a.createElement(x["a"].Option,{value:"3"},"\u672a\u5b8c\u6210"))),_.a.createElement(Y["a"].Item,{name:"start_time",label:"\u5f00\u59cb\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4"}]},_.a.createElement(I["a"],{showTime:!0,style:{width:"100%"},format:"YYYY-MM-DD",placeholder:"\u8bf7\u9009\u62e9"})),_.a.createElement(Y["a"].Item,{name:"end_time",label:"\u7ed3\u675f\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ed3\u675f\u65f6\u95f4"}]},_.a.createElement(I["a"],{showTime:!0,placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD",style:{width:"100%"}})),_.a.createElement(Y["a"].Item,{name:"content",label:"\u9879\u76ee\u63cf\u8ff0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7684\u9879\u76ee\u63cf\u8ff0\uff01",min:5}]},_.a.createElement(D,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"})))};return _.a.createElement(d["a"],Object(k["a"])({title:l?null:"\u4efb\u52a1".concat(i?"\u7f16\u8f91":"\u6dfb\u52a0"),className:N.a.standardListForm,width:640,bodyStyle:l?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:c},h),j())},L=T,F=b["default"].Button,R=b["default"].Group,B=f["a"].Search,V=function(e){var t=e.title,a=e.value,n=e.bordered;return _.a.createElement("div",{className:N.a.headerInfo},_.a.createElement("span",null,t),_.a.createElement("p",null,a),n&&_.a.createElement("em",null))},z=function(e){var t=e.data,a=t.title,n=t.url,l=t.start_time,r=t.end_time;return _.a.createElement("div",{className:N.a.listContent},_.a.createElement("div",{className:N.a.listContentItem},_.a.createElement("span",null,"\u6807\u9898"),_.a.createElement("p",null,a)),_.a.createElement("div",{className:N.a.listContentItem},_.a.createElement("span",null,"\u9879\u76ee\u94fe\u63a5"),_.a.createElement("p",null,n)),_.a.createElement("div",{className:N.a.listContentItem},_.a.createElement("span",null,"\u521b\u5efa\u65f6\u95f4"),_.a.createElement("p",null,C()(l).format("YYYY-MM-DD"))),_.a.createElement("div",{className:N.a.listContentItem},_.a.createElement("span",null,"\u7ed3\u675f\u65f6\u95f4"),_.a.createElement("p",null,C()(r).format("YYYY-MM-DD"))))},J=function(e){var t=Object(v["useRef"])(null),a=e.loading,f=e.dispatch,b=e.projectModel,g=b.list,C=b.info,w=Object(v["useState"])(!1),k=Object(E["a"])(w,2),I=k[0],x=k[1],M=Object(v["useState"])(!1),Y=Object(E["a"])(M,2),S=Y[0],D=Y[1],q=Object(v["useState"])(void 0),T=Object(E["a"])(q,2),J=T[0],K=T[1];Object(v["useEffect"])((function(){H()}),[]),Object(v["useEffect"])((function(){C.message&&(p["a"].info(C.message),H())}),[C]);var H=function(){f({type:"projectModel/fetch"})},Q={showSizeChanger:!0,showQuickJumper:!0,pageSize:10,total:g.length},P=function(){D(!0),K(void 0)},G=function(e){D(!0),K(e)},U=function(e){f({type:"projectModel/delete",payload:{id:e}})},W=function(e,t){"delete"===e&&d["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u8be5\u9879\u76ee\u4e48\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return U(t._id)}})},X=_.a.createElement("div",{className:N.a.extraContent},_.a.createElement(R,{defaultValue:"all"},_.a.createElement(F,{value:"all"},"\u5168\u90e8"),_.a.createElement(F,{value:"progress"},"\u8fdb\u884c\u4e2d"),_.a.createElement(F,{value:"waiting"},"\u7b49\u5f85\u4e2d")),_.a.createElement(B,{className:N.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),A=function(e){var t=e.item;return _.a.createElement(s["a"],{overlay:_.a.createElement(u["a"],{onClick:function(e){var a=e.key;return W(a,t)}},_.a.createElement(u["a"].Item,{key:"delete"},"\u5220\u9664"))},_.a.createElement("a",null,"\u66f4\u591a ",_.a.createElement(h["a"],null)))},Z=function(){if(t.current){var e=Object(O["findDOMNode"])(t.current);setTimeout((function(){return e.blur()}),0)}},$=function(){Z(),x(!1),D(!1)},ee=function(){Z(),D(!1)},te=function(e,t){var a=J?J._id:"";f("edit"===t?{type:"projectModel/update",payload:Object(m["a"])({id:a},e)}:{type:"projectModel/addproject",payload:Object(m["a"])({},e)}),Z(),x(!0)};return _.a.createElement("div",null,_.a.createElement(y["b"],null,_.a.createElement("div",{className:N.a.standardList},_.a.createElement(c["a"],{bordered:!1},_.a.createElement(i["a"],null,_.a.createElement(o["a"],{sm:8,xs:24},_.a.createElement(V,{title:"\u7528\u6237\u5217\u8868\u4e2a\u6570",value:g.length,bordered:!0})))),_.a.createElement(c["a"],{className:N.a.listCard,bordered:!1,title:"\u57fa\u672c\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:X},_.a.createElement(r["a"],{type:"dashed",style:{width:"100%",marginBottom:8},onClick:P,ref:t},_.a.createElement(j["a"],null),"\u6dfb\u52a0"),_.a.createElement(n["b"],{size:"large",rowKey:"id",loading:a,pagination:Q,dataSource:g,renderItem:function(e){return _.a.createElement(n["b"].Item,{actions:[_.a.createElement("a",{key:"edit",onClick:function(t){t.preventDefault(),G(e)}},"\u7f16\u8f91"),_.a.createElement(A,{key:"more",item:e})]},_.a.createElement(n["b"].Item.Meta,{avatar:_.a.createElement(l["a"],{src:e.img,shape:"square",size:"large"}),title:e.title}),_.a.createElement(z,{data:e}))}})))),_.a.createElement(L,{done:I,current:J,visible:S,onDone:$,onCancel:ee,onSubmit:te}))};t["default"]=Object(w["a"])((function(e){var t=e.projectModel,a=e.loading;return{projectModel:t,loading:a.models.userBasicList}}))(J)},vL9d:function(e,t,a){e.exports={standardList:"standardList___2gdjI",headerInfo:"headerInfo___2dUOH",listContent:"listContent___1Bz1e",listContentItem:"listContentItem___10pi4",extraContentSearch:"extraContentSearch___3ylwx",listCard:"listCard___2Nfxq",standardListForm:"standardListForm___3jF-p",formResult:"formResult___2ts0o"}}}]);