(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"/ACP":function(e,t,a){"use strict";a.r(t),a.d(t,"MessageComponent",(function(){return K}));a("Mwp2");var n=a("VXEj"),l=(a("+L6B"),a("2/Rp")),r=(a("IzEo"),a("bx4M")),c=(a("14J3"),a("BMrR")),i=(a("jCWc"),a("kPKH")),s=(a("qVdP"),a("jsC+")),o=(a("lUTK"),a("BvKs")),m=(a("2qtc"),a("kLXV")),u=(a("miYZ"),a("tsqr")),d=a("tJVT"),f=(a("5NDa"),a("5rEg")),E=(a("7Kak"),a("9yH6")),p=a("q1tI"),b=a.n(p),v=a("8Skl"),g=a("xvlK"),C=a("wd/R"),_=a.n(C),h=a("i8i4"),y=a("Hx5s"),O=a("9kvl"),S=a("0Owb"),k=(a("iQDF"),a("+eQT")),j=(a("OaEy"),a("2fM7")),w=(a("J+/v"),a("MoRW")),x=a("k1fw"),I=(a("y8nQ"),a("Vl3Y")),N=a("pNTs"),M=a.n(N),T=f["a"].TextArea,D={labelCol:{span:7},wrapperCol:{span:13}},L=function(e){var t=I["a"].useForm(),a=Object(d["a"])(t,1),n=a[0],r=e.done,c=e.visible,i=e.current,s=e.onDone,o=e.onCancel,u=e.onSubmit;Object(p["useEffect"])((function(){n&&!c&&n.resetFields()}),[e.visible]),Object(p["useEffect"])((function(){i&&n.setFieldsValue(Object(x["a"])(Object(x["a"])({},i),{},{create_time:i.create_time?_()(i.create_time):null}))}),[e.current]);var f=function(){n&&n.submit()},E=function(e){var t=i?"edit":"add";u&&u(e,t)},v=r?{footer:null,onCancel:s}:{okText:"\u4fdd\u5b58",onOk:f,onCancel:o},g=function(){return r?b.a.createElement(w["a"],{status:"success",title:"\u64cd\u4f5c\u6210\u529f",subTitle:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",extra:b.a.createElement(l["a"],{type:"primary",onClick:s},"\u77e5\u9053\u4e86"),className:M.a.formResult}):b.a.createElement(I["a"],Object(S["a"])({},D,{form:n,onFinish:E}),b.a.createElement(I["a"].Item,{name:"state",label:"\u65f6\u95f4\u8f74\u72b6\u6001",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9879\u76ee\u72b6\u6001"}]},b.a.createElement(j["a"],{placeholder:"\u8bf7\u9009\u62e9"},b.a.createElement(j["a"].Option,{value:"0"},"\u672a\u5ba1\u6838"),b.a.createElement(j["a"].Option,{value:"1"},"\u5df2\u5ba1\u6838"))),b.a.createElement(I["a"].Item,{name:"create_time",label:"\u521b\u5efa\u65f6\u95f4"},b.a.createElement(k["a"],{showTime:!0,placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD",style:{width:"100%"}})),b.a.createElement(I["a"].Item,{name:"content",label:"\u7559\u8a00\u5185\u5bb9",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7684\u7559\u8a00\u5185\u5bb9\uff01",min:5}]},b.a.createElement(T,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"})))};return b.a.createElement(m["a"],Object(S["a"])({title:r?null:"\u4efb\u52a1".concat(i?"\u7f16\u8f91":"\u6dfb\u52a0"),className:M.a.standardListForm,width:640,bodyStyle:r?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:c},v),g())},Y=L,R=E["default"].Button,F=E["default"].Group,q=f["a"].Search,V=function(e){var t=e.title,a=e.value,n=e.bordered;return b.a.createElement("div",{className:M.a.headerInfo},b.a.createElement("span",null,t),b.a.createElement("p",null,a),n&&b.a.createElement("em",null))},J=function(e){var t=e.data,a=t.content,n=t.state,l=t.create_time;return b.a.createElement("div",{className:M.a.listContent},b.a.createElement("div",{className:M.a.listContentItem},b.a.createElement("span",null,"\u5185\u5bb9"),b.a.createElement("p",null,a)),b.a.createElement("div",{className:M.a.listContentItem},b.a.createElement("span",null,"\u5ba1\u6838\u72b6\u6001"),b.a.createElement("p",null,n)),b.a.createElement("div",{className:M.a.listContentItem},b.a.createElement("span",null,"\u521b\u5efa\u65f6\u95f4"),b.a.createElement("p",null,_()(l).format("YYYY-MM-DD"))))},K=function(e){var t=Object(p["useRef"])(null),a=e.loading,f=e.dispatch,E=e.messageSpace,C=E.list,_=E.info,O=(E.listCounts,Object(p["useState"])(!1)),S=Object(d["a"])(O,2),k=S[0],j=S[1],w=Object(p["useState"])(!1),x=Object(d["a"])(w,2),I=x[0],N=x[1],T=Object(p["useState"])(void 0),D=Object(d["a"])(T,2),L=D[0],K=D[1];Object(p["useEffect"])((function(){z()}),[1]),Object(p["useEffect"])((function(){_.message&&(u["a"].info(_.message),z())}),[_]);var z=function(){f({type:"messageSpace/fetch",payload:{pageSize:200}})},B={showSizeChanger:!0,showQuickJumper:!0,pageSize:10,total:C.length},H=function(){N(!0),K(void 0)},Q=function(e){N(!0),K(e)},P=function(e){f({type:"messageSpace/delMessage",payload:{id:e}})},X=function(e,t){"delete"===e&&m["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u4efb\u52a1\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return P(t._id)}})},A=b.a.createElement("div",{className:M.a.extraContent},b.a.createElement(F,{defaultValue:"all"},b.a.createElement(R,{value:"all"},"\u5168\u90e8"),b.a.createElement(R,{value:"progress"},"\u8fdb\u884c\u4e2d"),b.a.createElement(R,{value:"waiting"},"\u7b49\u5f85\u4e2d")),b.a.createElement(q,{className:M.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),G=function(e){var t=e.item;return b.a.createElement(s["a"],{overlay:b.a.createElement(o["a"],{onClick:function(e){var a=e.key;return X(a,t)}},b.a.createElement(o["a"].Item,{key:"edit"},"\u7f16\u8f91"),b.a.createElement(o["a"].Item,{key:"delete"},"\u5220\u9664"))},b.a.createElement("a",null,"\u66f4\u591a ",b.a.createElement(v["a"],null)))},U=function(){if(t.current){var e=Object(h["findDOMNode"])(t.current);setTimeout((function(){return e.blur()}),0)}},W=function(){U(),j(!1),N(!1)},Z=function(){U(),N(!1)},$=function(e,t){var a=L?L._id:"";"edit"===t&&f({type:"messageSpace/changeMessage",payload:{id:a,state:e.state,content:e.content}}),U(),j(!0)};return b.a.createElement("div",null,b.a.createElement(y["b"],null,b.a.createElement("div",{className:M.a.standardList},b.a.createElement(r["a"],{bordered:!1},b.a.createElement(c["a"],null,b.a.createElement(i["a"],{sm:8,xs:24},b.a.createElement(V,{title:"\u5217\u8868\u6570",value:C.length,bordered:!0})))),b.a.createElement(r["a"],{className:M.a.listCard,bordered:!1,title:"\u57fa\u672c\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:A},b.a.createElement(l["a"],{type:"dashed",style:{width:"100%",marginBottom:8},onClick:H,ref:t},b.a.createElement(g["a"],null),"\u6dfb\u52a0"),b.a.createElement(n["b"],{size:"large",rowKey:"id",loading:a,pagination:B,dataSource:C,renderItem:function(e){return b.a.createElement(n["b"].Item,{actions:[b.a.createElement("a",{key:"edit",onClick:function(t){t.preventDefault(),Q(e)}},"\u7f16\u8f91"),b.a.createElement(G,{key:"more",item:e})]},b.a.createElement(J,{data:e}))}})))),b.a.createElement(Y,{done:k,current:L,visible:I,onDone:W,onCancel:Z,onSubmit:$}))};t["default"]=Object(O["a"])((function(e){var t=e.messageSpace,a=e.loading;return{messageSpace:t,loading:a.models.timeLineList}}))(K)},pNTs:function(e,t,a){e.exports={standardList:"standardList___2u81X",headerInfo:"headerInfo___13D1h",listContent:"listContent___2Z0UG",listContentItem:"listContentItem___1Revc",extraContentSearch:"extraContentSearch___2tD74",listCard:"listCard___10HNy",standardListForm:"standardListForm___CEloq",formResult:"formResult___cvsNb"}}}]);