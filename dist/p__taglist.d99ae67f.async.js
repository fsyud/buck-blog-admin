(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{Eqqx:function(e,t,a){"use strict";a.r(t),a.d(t,"tagComponent",(function(){return B}));a("Mwp2");var n=a("VXEj"),l=(a("+L6B"),a("2/Rp")),r=(a("IzEo"),a("bx4M")),c=(a("14J3"),a("BMrR")),i=(a("jCWc"),a("kPKH")),o=a("k1fw"),s=(a("qVdP"),a("jsC+")),u=(a("lUTK"),a("BvKs")),d=(a("2qtc"),a("kLXV")),m=(a("miYZ"),a("tsqr")),f=a("tJVT"),E=(a("5NDa"),a("5rEg")),p=(a("7Kak"),a("9yH6")),b=a("q1tI"),v=a.n(b),g=a("8Skl"),C=a("xvlK"),y=a("i8i4"),_=a("Hx5s"),O=a("9kvl"),h=a("0Owb"),k=(a("J+/v"),a("MoRW")),j=(a("y8nQ"),a("Vl3Y")),x=a("xIpB"),I=a.n(x),w={labelCol:{span:7},wrapperCol:{span:13}},S=function(e){var t=j["a"].useForm(),a=Object(f["a"])(t,1),n=a[0],r=e.done,c=e.visible,i=e.current,s=e.onDone,u=e.onCancel,m=e.onSubmit;Object(b["useEffect"])((function(){n&&!c&&n.resetFields()}),[e.visible]),Object(b["useEffect"])((function(){i&&n.setFieldsValue(Object(o["a"])({},i))}),[e.current]);var p=function(){n&&n.submit()},g=function(e){var t=i?"edit":"add";m&&m(e,t)},C=r?{footer:null,onCancel:s}:{okText:"\u4fdd\u5b58",onOk:p,onCancel:u},y=function(){return r?v.a.createElement(k["a"],{status:"success",title:"\u64cd\u4f5c\u6210\u529f",subTitle:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",extra:v.a.createElement(l["a"],{type:"primary",onClick:s},"\u77e5\u9053\u4e86"),className:I.a.formResult}):v.a.createElement(j["a"],Object(h["a"])({},w,{form:n,onFinish:g}),v.a.createElement(j["a"].Item,{name:"name",label:"\u6807\u7b7e\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"}]},v.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})),v.a.createElement(j["a"].Item,{name:"desc",label:"\u6807\u7b7e\u63cf\u8ff0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u7b7e\u63cf\u8ff0"}]},v.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))};return v.a.createElement(d["a"],Object(h["a"])({title:r?null:"\u4efb\u52a1".concat(i?"\u7f16\u8f91":"\u6dfb\u52a0"),className:I.a.standardListForm,width:640,bodyStyle:r?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:c},C),y())},L=S,N=p["default"].Button,T=p["default"].Group,q=E["a"].Search,F=function(e){var t=e.title,a=e.value,n=e.bordered;return v.a.createElement("div",{className:I.a.headerInfo},v.a.createElement("span",null,t),v.a.createElement("p",null,a),n&&v.a.createElement("em",null))},J=function(e){var t=e.data,a=t.name,n=t.desc;return v.a.createElement("div",{className:I.a.listContent},v.a.createElement("div",{className:I.a.listContentItem},v.a.createElement("span",null,"\u540d\u79f0"),v.a.createElement("p",null,a)),v.a.createElement("div",{className:I.a.listContentItem},v.a.createElement("span",null,"\u63cf\u8ff0"),v.a.createElement("p",null,n)))},B=function(e){var t=Object(b["useRef"])(null),a=e.loading,E=e.dispatch,p=e.taglist,O=p.listTag,h=p.info,k=Object(b["useState"])(!1),j=Object(f["a"])(k,2),x=j[0],w=j[1],S=Object(b["useState"])(!1),B=Object(f["a"])(S,2),K=B[0],R=B[1],V=Object(b["useState"])(void 0),D=Object(f["a"])(V,2),M=D[0],z=D[1];Object(b["useEffect"])((function(){Q()}),[1]),Object(b["useEffect"])((function(){h.message&&(m["a"].info(h.message),Q())}),[h]);var Q=function(){E({type:"taglist/getTagList"})},G={showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:O.length},H=function(){R(!0),z(void 0)},W=function(e){R(!0),z(e)},P=function(e){E({type:"taglist/delTag",payload:{id:e}})},X=function(e,t){"edit"===e?W(t):"delete"===e&&d["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u4efb\u52a1\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return P(t._id)}})},Y=v.a.createElement("div",{className:I.a.extraContent},v.a.createElement(T,{defaultValue:"all"},v.a.createElement(N,{value:"all"},"\u5168\u90e8"),v.a.createElement(N,{value:"progress"},"\u8fdb\u884c\u4e2d"),v.a.createElement(N,{value:"waiting"},"\u7b49\u5f85\u4e2d")),v.a.createElement(q,{className:I.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),Z=function(e){var t=e.item;return v.a.createElement(s["a"],{overlay:v.a.createElement(u["a"],{onClick:function(e){var a=e.key;return X(a,t)}},v.a.createElement(u["a"].Item,{key:"edit"},"\u7f16\u8f91"),v.a.createElement(u["a"].Item,{key:"delete"},"\u5220\u9664"))},v.a.createElement("a",null,"\u66f4\u591a ",v.a.createElement(g["a"],null)))},U=function(){if(t.current){var e=Object(y["findDOMNode"])(t.current);setTimeout((function(){return e.blur()}),0)}},A=function(){U(),w(!1),R(!1)},$=function(){U(),R(!1)},ee=function(e,t){var a=M?M._id:"";E("edit"===t?{type:"taglist/updateLine",payload:Object(o["a"])({id:a},e)}:{type:"taglist/addTag",payload:Object(o["a"])({},e)}),U(),w(!0)};return v.a.createElement("div",null,v.a.createElement(_["b"],null,v.a.createElement("div",{className:I.a.standardList},v.a.createElement(r["a"],{bordered:!1},v.a.createElement(c["a"],null,v.a.createElement(i["a"],{sm:8,xs:24},v.a.createElement(F,{title:"\u5217\u8868\u6570",value:O.length,bordered:!0})))),v.a.createElement(r["a"],{className:I.a.listCard,bordered:!1,title:"\u57fa\u672c\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:Y},v.a.createElement(l["a"],{type:"dashed",style:{width:"100%",marginBottom:8},onClick:H,ref:t},v.a.createElement(C["a"],null),"\u6dfb\u52a0"),v.a.createElement(n["b"],{size:"large",rowKey:"id",loading:a,pagination:G,dataSource:O,renderItem:function(e){return v.a.createElement(n["b"].Item,{actions:[v.a.createElement("a",{key:"edit",onClick:function(t){t.preventDefault(),W(e)}},"\u7f16\u8f91"),v.a.createElement(Z,{key:"more",item:e})]},v.a.createElement(J,{data:e}))}})))),v.a.createElement(L,{done:x,current:M,visible:K,onDone:A,onCancel:$,onSubmit:ee}))};t["default"]=Object(O["a"])((function(e){var t=e.taglist,a=e.loading;return{taglist:t,loading:a.models.timeLineList}}))(B)},xIpB:function(e,t,a){e.exports={standardList:"standardList___ItdcQ",headerInfo:"headerInfo___25WE9",listContent:"listContent___3ZJk8",listContentItem:"listContentItem___1lwL7",extraContentSearch:"extraContentSearch___2Gh6I",listCard:"listCard___QdudO",standardListForm:"standardListForm___2fFdG",formResult:"formResult___JieiK"}}}]);